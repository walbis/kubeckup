apiVersion: v1
data:
    config.yml: |
        version: 0.1
        log:
          level: info
          fields:
            service: registry
        storage:
          filesystem:
            rootdirectory: /storage
          cache:
            layerinfo: redis
          maintenance:
            uploadpurging:
              enabled: true
              age: 168h
              interval: 24h
              dryrun: false
          delete:
            enabled: true
          redirect:
            disable: false
        redis:
          addr: harbor-redis:6379
          db: 2
          readtimeout: 10s
          writetimeout: 10s
          dialtimeout: 10s
          enableTLS: false
          pool:
            maxidle: 100
            maxactive: 500
            idletimeout: 60s
        http:
          addr: :5000
          relativeurls: false
          # set via environment variable
          # secret: placeholder
          debug:
            addr: localhost:5001
        auth:
          htpasswd:
            realm: harbor-registry-basic-realm
            path: /etc/registry/passwd
        validation:
          disabled: true
        compatibility:
          schema1:
            enabled: true
    ctl-config.yml: |
        ---
        protocol: "http"
        port: 8080
        log_level: info
        registry_config: "/etc/registry/config.yml"
kind: ConfigMap
metadata:
    annotations:
        meta.helm.sh/release-name: harbor
        meta.helm.sh/release-namespace: harbor
    labels:
        app: harbor
        app.kubernetes.io/instance: harbor
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: harbor
        app.kubernetes.io/part-of: harbor
        app.kubernetes.io/version: 2.13.1
        chart: harbor
        heritage: Helm
        release: harbor
    name: harbor-registry
    namespace: harbor

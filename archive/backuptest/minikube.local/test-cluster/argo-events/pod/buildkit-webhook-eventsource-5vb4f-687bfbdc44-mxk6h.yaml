apiVersion: v1
kind: Pod
metadata:
    generateName: buildkit-webhook-eventsource-5vb4f-687bfbdc44-
    labels:
        controller: eventsource-controller
        eventsource-name: buildkit-webhook
        owner-name: buildkit-webhook
        pod-template-hash: 687bfbdc44
    name: buildkit-webhook-eventsource-5vb4f-687bfbdc44-mxk6h
    namespace: argo-events
    ownerReferences:
        - apiVersion: apps/v1
          blockOwnerDeletion: true
          controller: true
          kind: ReplicaSet
          name: buildkit-webhook-eventsource-5vb4f-687bfbdc44
          uid: 3ac390da-fc1d-4016-8cdb-e99e100c6f32
spec:
    containers:
        - args:
            - eventsource-service
          env:
            - name: EVENTSOURCE_OBJECT
              value: eyJtZXRhZGF0YSI6eyJuYW1lIjoiYnVpbGRraXQtd2ViaG9vayIsIm5hbWVzcGFjZSI6ImFyZ28tZXZlbnRzIiwiY3JlYXRpb25UaW1lc3RhbXAiOm51bGx9LCJzcGVjIjp7IndlYmhvb2siOnsiYnVpbGRraXQtdHJpZ2dlciI6eyJlbmRwb2ludCI6Ii9idWlsZGtpdCIsIm1ldGhvZCI6IlBPU1QiLCJwb3J0IjoiMTIwMDAiLCJ1cmwiOiIifX19LCJzdGF0dXMiOnt9fQ==
            - name: EVENTBUS_SUBJECT
              value: eventbus-argo-events
            - name: POD_NAME
              valueFrom:
                fieldRef:
                    apiVersion: v1
                    fieldPath: metadata.name
            - name: LEADER_ELECTION
            - name: EVENTBUS_CONFIG
              value: eyJuYXRzIjp7InVybCI6Im5hdHM6Ly9ldmVudGJ1cy1kZWZhdWx0LXN0YW4tc3ZjOjQyMjIiLCJjbHVzdGVySUQiOiJldmVudGJ1cy1kZWZhdWx0IiwiYXV0aCI6InRva2VuIiwiYWNjZXNzU2VjcmV0Ijp7Im5hbWUiOiJldmVudGJ1cy1kZWZhdWx0LWNsaWVudCIsImtleSI6ImNsaWVudC1hdXRoIn19fQ==
          image: quay.io/argoproj/argo-events:v1.9.6
          imagePullPolicy: Always
          name: main
          ports:
            - containerPort: 7777
              name: metrics
              protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
            - mountPath: /etc/eventbus/auth
              name: auth-volume
            - mountPath: /tmp
              name: tmp
            - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
              name: kube-api-access-b746c
              readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    tolerations:
        - effect: NoExecute
          key: node.kubernetes.io/not-ready
          operator: Exists
          tolerationSeconds: 300
        - effect: NoExecute
          key: node.kubernetes.io/unreachable
          operator: Exists
          tolerationSeconds: 300
    volumes:
        - name: auth-volume
          secret:
            defaultMode: 420
            items:
                - key: client-auth
                  path: auth.yaml
            secretName: eventbus-default-client
        - emptyDir: {}
          name: tmp
        - name: kube-api-access-b746c
          projected:
            defaultMode: 420
            sources:
                - serviceAccountToken:
                    expirationSeconds: 3607
                    path: token
                - configMap:
                    items:
                        - key: ca.crt
                          path: ca.crt
                    name: kube-root-ca.crt
                - downwardAPI:
                    items:
                        - fieldRef:
                            apiVersion: v1
                            fieldPath: metadata.namespace
                          path: namespace
